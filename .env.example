# Flask文件上传服务环境配置示例
# 复制此文件为 .env 并根据需要修改配置

# ===========================================
# Flask 基础配置
# ===========================================

# Flask运行环境 (development, production, testing)
FLASK_ENV=production

# 服务监听地址
FLASK_HOST=0.0.0.0

# 服务端口
FLASK_PORT=5000

# Flask密钥（用于会话加密，生产环境请使用随机字符串）
SECRET_KEY=your-secret-key-here-change-in-production

# ===========================================
# 文件上传配置
# ===========================================

# 文件存储根目录
UPLOAD_FOLDER=/app/files

# 最大文件大小（字节）
# 104857600 = 100MB
# 52428800 = 50MB
# 10485760 = 10MB
MAX_CONTENT_LENGTH=104857600

# 允许的文件扩展名（逗号分隔）
ALLOWED_EXTENSIONS=txt,pdf,png,jpg,jpeg,gif,doc,docx,xls,xlsx,ppt,pptx,zip,rar,7z,csv,json,xml

# 是否启用文件类型检查
ENABLE_FILE_TYPE_CHECK=true

# 是否自动创建上传目录
AUTO_CREATE_UPLOAD_DIR=true

# ===========================================
# 安全配置
# ===========================================

# 是否启用CORS（跨域资源共享）
ENABLE_CORS=false

# 允许的CORS源（如果启用CORS）
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# 是否启用基础认证
ENABLE_BASIC_AUTH=false

# 基础认证用户名和密码（如果启用）
BASIC_AUTH_USERNAME=admin
BASIC_AUTH_PASSWORD=your-password-here

# API密钥认证（可选）
API_KEY=your-api-key-here

# ===========================================
# 日志配置
# ===========================================

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=/app/logs/app.log

# 是否启用日志轮转
ENABLE_LOG_ROTATION=true

# 日志文件最大大小（MB）
LOG_MAX_SIZE=10

# 保留的日志文件数量
LOG_BACKUP_COUNT=5

# ===========================================
# 性能配置
# ===========================================

# 是否启用文件缓存
ENABLE_FILE_CACHE=true

# 缓存过期时间（秒）
CACHE_TIMEOUT=3600

# 最大并发上传数
MAX_CONCURRENT_UPLOADS=10

# 上传超时时间（秒）
UPLOAD_TIMEOUT=300

# ===========================================
# 数据库配置（可选，用于文件元数据存储）
# ===========================================

# 是否启用数据库存储文件元数据
ENABLE_DATABASE=false

# 数据库URL
DATABASE_URL=sqlite:///app.db

# 或者使用MySQL/PostgreSQL
# DATABASE_URL=mysql://user:password@localhost/dbname
# DATABASE_URL=postgresql://user:password@localhost/dbname

# ===========================================
# 监控配置
# ===========================================

# 是否启用健康检查端点
ENABLE_HEALTH_CHECK=true

# 是否启用指标收集
ENABLE_METRICS=false

# Prometheus指标端点
METRICS_ENDPOINT=/metrics

# ===========================================
# 外部服务配置
# ===========================================

# 是否启用文件病毒扫描
ENABLE_VIRUS_SCAN=false

# 病毒扫描服务URL
VIRUS_SCAN_URL=http://clamav:3310

# 是否启用文件压缩
ENABLE_FILE_COMPRESSION=false

# 压缩质量（1-100）
COMPRESSION_QUALITY=85

# ===========================================
# 通知配置
# ===========================================

# 是否启用上传通知
ENABLE_UPLOAD_NOTIFICATIONS=false

# 通知方式 (email, webhook, slack)
NOTIFICATION_METHOD=webhook

# Webhook URL
WEBHOOK_URL=https://your-webhook-url.com/notify

# 邮件配置（如果使用邮件通知）
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# ===========================================
# 开发配置
# ===========================================

# 是否启用调试模式
DEBUG=false

# 是否启用热重载
RELOAD=false

# 是否显示详细错误信息
SHOW_ERROR_DETAILS=false

# 测试模式
TESTING=false

# ===========================================
# 自定义配置
# ===========================================

# 应用名称
APP_NAME=Flask File Server

# 应用版本
APP_VERSION=1.0.0

# 时区
TIMEZONE=Asia/Shanghai

# 默认语言
DEFAULT_LANGUAGE=zh-CN

# 文件URL前缀
FILE_URL_PREFIX=/download

# 是否启用文件预览
ENABLE_FILE_PREVIEW=true

# 预览支持的文件类型
PREVIEW_FILE_TYPES=txt,md,json,xml,csv,log